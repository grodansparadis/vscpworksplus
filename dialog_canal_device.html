<!DOCTYPE html>
<html lang="en">

<head>
    <title>CANAL Device</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>

<body class="bg-light">

    <div class="container">
        <div class="col-sm-12" align="center">
            <h2>CANAL Interface</h2>
        </div>
        <form action="/action_page.php" class="needs-validation" novalidate>

            <div class="form-group">
                <label class="font-weight-bold" for="description">Description:</label>
                <input type="text" class="form-control form-control-sm" id="description" placeholder="Enter description"
                    name="description" required>
                <div class="valid-feedback"></div>
                <div class="invalid-feedback">There must be a descriptive string for the driver.</div>
            </div>

            <div class="form-group ">
                <label class="font-weight-bold" for="description">Path:</label>
                <div class="input-group input-file" name="path">
                    <input type="text" class="form-control form-control-sm" placeholder='Choose a file...' required />
                    <span class="input-group-btn">
                        &nbsp;
                        <button class="btn-sm btn-default btn-choose" type="button">Choose</button>
                        <button type="reset" class="btn-sm btn-default">Reset</button>
                    </span>
                    <div class="valid-feedback"></div>
                    <div class="invalid-feedback">There must be a path for a valid CANAL driver.</div>
                </div>

            </div>

            <div class="form-group">
                <label class="font-weight-bold" for="description">Configuration:</label>
                <input type="text" class="form-control form-control-sm" id="description"
                    placeholder="Enter configuration" name="description">
            </div>
            <div class="form-group">
                <label class="font-weight-bold" for="flags">Flags:</label>
                <input type="password" class="form-control form-control-sm" id="flags" placeholder="Enter flags"
                    name="flags">
            </div>

            <div class="col-sm-12" align="center">
                <button type="button" class="btn btn-warning  form-control-sm">Configuration wizard</button>
                <div>
                    <hr />
                </div>
                <div class="row">
                    <div class="col-sm-12" align="center">
                        <button type="submit" class="btn-sm btn-default">Cancel</button>
                        <button type="submit" class="btn-sm btn-default">OK</button>
                    </div>
                </div>


        </form>
    </div>

    <script>
        // Disable form submissions if there are invalid fields
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Get the forms we want to add validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();

        // File selection
        function bs_input_file() {
            $(".input-file").before(
                function () {
                    if (!$(this).prev().hasClass('input-ghost')) {
                        var element = $("<input type='file' class='input-ghost' style='visibility:hidden; height:0'>");
                        element.attr("name", $(this).attr("name"));
                        element.change(function () {
                            element.next(element).find('input').val((element.val()).split('\\').pop());
                        });
                        $(this).find("button.btn-choose").click(function () {
                            element.click();
                        });
                        $(this).find("button.btn-reset").click(function () {
                            element.val(null);
                            $(this).parents(".input-file").find('input').val('');
                        });
                        $(this).find('input').css("cursor", "pointer");
                        $(this).find('input').mousedown(function () {
                            $(this).parents('.input-file').prev().click();
                            return false;
                        });
                        return element;
                    }
                }
            );
        }
        $(function () {
            bs_input_file();
        });
    </script>

</body>

</html>